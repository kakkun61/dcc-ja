
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <title>S-9.2.2 DCC の設定値（CV） · NMRA 標準と推奨慣例</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.6.20">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-add-js-css/307e997537db9d846561f4e05bb76e63-style.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="S-9.2.1-extended-packet-formats.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索ワードを入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    はじめに
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">標準・推奨慣例・技術注釈・技術情報</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="S-9.1-electorical-standards.html">
            
                <a href="S-9.1-electorical-standards.html">
            
                    
                    S-9.1 DCC 電気的標準
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="S-9.2-dcc-communications-standard.html">
            
                <a href="S-9.2-dcc-communications-standard.html">
            
                    
                    S-9.2 DCC 通信標準
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="S-9.2.1-extended-packet-formats.html">
            
                <a href="S-9.2.1-extended-packet-formats.html">
            
                    
                    S-9.2.1 DCC 拡張パケット形式
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.2.2" data-path="S-9.2.2-configuration-variables-for-dcc.html">
            
                <a href="S-9.2.2-configuration-variables-for-dcc.html">
            
                    
                    S-9.2.2 DCC の設定値（CV）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            HonKitで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >S-9.2.2 DCC の設定値（CV）</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="s-922-デジタルコマンドコントロールの設定値（cv）">S-9.2.2 デジタルコマンドコントロールの設定値（CV）</h1>
<p><a href="https://www.nmra.org/sites/default/files/standards/sandrp/pdf/s-9.2.2_decoder_cvs_2012.07.pdf" target="_blank">原文</a></p>
<p>原文版：July 2012</p>
<p>この標準はデジタルデコーダー CV の対応と記述を提供します。CV はそれぞれの機関車や他の可搬・不可搬の機器のためにデコーダーをカスタマイズできるようにします。CV は不揮発性記憶に保存され、長期間デコーダーの電源が切れていても変更されてはいけません。</p>
<h2 id="一般的定義">一般的定義</h2>
<p>Tables 1 and 2 identify each of the Configuration Variables (CVs), along with additional information about each one. Following Table 1 is a written description of each of the CVs. In Tables 1 and 2 each Configuration Variable (CV) is identified by name and number, along with the following information:</p>
<ul>
<li>要求：必須（M）か推奨（R）か選択（O）。必須の CV はこの標準に準拠するために実装しなければいけません。推奨（R）は強く推奨されますが必須ではありません。選択（O）は製造者の裁量です。</li>
<li>デフォルト値：実装で CV が提供されるときに要求される工場出荷時値。</li>
<li>読み込みのみ：CV の値が製造者に設定されユーザーが変更できないことを示します。</li>
<li>統一仕様：多くのCVは実装固有で、統一された仕様は要求されません。他は、互換性を確保するため統一された方式で実装されなければいけません。統一仕様列の「Y」は一般的な仕様にしたがって製造者によって実装されることを要求する CV であることを示します。統一仕様の空欄は、CV が指定された目的に使用されなければいけませんが、特定の値にデコーダーがとる動作は製造者によってことなることができます。</li>
<li>動的：この範囲の CV は動的で Unsolicited Decoder Initiated Transmission として使用されます。これらの CV を使用する製造者は現在の統一仕様について NMRA DCC WG に問い合わせることを要求されます。</li>
</ul>
<p>注意：すべてのデコーダーがすべての CV を実装する必要はありませんが、機能が提供される場合、それに関連する CV 情報はすべて要求されます。</p>
<ul>
<li>備考：CVs identified as &quot;Reserved by NMRA for future use&quot; are allocated for future needs and must not be used by an implementer without prior written approval from the NMRA Technical Department. CVs identified as &quot;Values assigned by NMRA&quot; indicate that the allowable values are defined by the NMRA and any requests for additional values should be directed to the NMRA Technical Department. CVs identified as &quot;Reserved for manufacturer use&quot; are allocated for use by implementers, for which no prior NMRA authorization is needed, and for which no common usage across decoders from different implementers can be assured by the NMRA.</li>
</ul>
<table>
<thead>
<tr>
<th>CV 名</th>
<th style="text-align:center">CV 番号</th>
<th style="text-align:center">要求</th>
<th style="text-align:center">デフォルト値</th>
<th style="text-align:center">読み込みのみ</th>
<th style="text-align:center">統一仕様</th>
<th style="text-align:center">動的<br>（揮発性）</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr>
<td>主アドレス</td>
<td style="text-align:center">1</td>
<td style="text-align:center">M</td>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>起動電圧</td>
<td style="text-align:center">2</td>
<td style="text-align:center">R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>加速率</td>
<td style="text-align:center">3</td>
<td style="text-align:center">R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>減速率</td>
<td style="text-align:center">4</td>
<td style="text-align:center">R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>最高電圧</td>
<td style="text-align:center">5</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>中間電圧</td>
<td style="text-align:center">6</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>製造者バージョン番号</td>
<td style="text-align:center">7</td>
<td style="text-align:center">M</td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td>製造者の定義したバージョン情報</td>
</tr>
<tr>
<td>製造 ID</td>
<td style="text-align:center">8</td>
<td style="text-align:center">M</td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td>NMRA によって割り当てられた値</td>
</tr>
<tr>
<td>PWM 全期間</td>
<td style="text-align:center">9</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>EMF フィードバックカットアウト</td>
<td style="text-align:center">10</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>パケットタイムアウト値</td>
<td style="text-align:center">11</td>
<td style="text-align:center">R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>電源変換</td>
<td style="text-align:center">12</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td>NMRA によって割り当てられた値</td>
</tr>
<tr>
<td>F1～F8 用代替モード機能</td>
<td style="text-align:center">13</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>FL・F9～F12 用代替モード機能</td>
<td style="text-align:center">14</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>デコーダーロック</td>
<td style="text-align:center">15</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
<td></td>
</tr>
</tbody>
</table>
<p>2進数値はもっとも右のビットが最下位ビット、もっとも左のビットが最上位ビットとなるように保存されます。</p>
<h3 id="多機能デコーダーの-cv-の説明">多機能デコーダーの CV の説明</h3>
<h4 id="cv-1-主アドレス">CV 1 主アドレス</h4>
<p>ビット0～6は1～127の値のアドレスをもちます。ビット7は <code>0</code> でなければいけません。CV 1 の値が <code>00000000</code> であるときデコーダーは NMRA デジタルモードを終了し CV 12 に定義された代替電源に切り替わります。この設定はデジタルデコーダーがサービスモードパケットに返答できるかどうかには影響がありません（S-9.2.3 を参照）。工場出荷時、デコーダーが機関車やその他の車両に装備されていない場合、この CV のデフォルト値は3です</p>
<h4 id="cv-2-起動電圧">CV 2 起動電圧</h4>
<p>起動電圧は、モーターの起動電圧として使用される電圧駆動レベルを定義するために使用されます。使用可能な整流供給電圧の一部として、電圧駆動レベルは速度段階1でモーターに印加される電圧に線形に対応しなければいけません。電圧駆動レベルが0に等しいとき、モーターに印加される電圧は0でないといけません。最大値 <code>11111111</code> であるとき最大の使用可能な整流電圧が印加されなければいけません。</p>
<h4 id="cv-3-加速率">CV 3 加速率</h4>
<p>デコーダーの加速率を決定します。加速率の式は <code>CV 3 の定数 × 896 / 使用している速度段階の番号</code> と等しくなくてはいけません。例えば、CV 3 の定数が2である場合、現在28段の速度を使用しているデコーダーに対して加速は 0.064 秒/段です。この引数が0と等しければ、プログラムされた運動量は加速中にありません。</p>
<h4 id="configuration-variable-4-deceleration-rate">Configuration Variable 4 Deceleration Rate</h4>
<p>Determines a decoders braking rate, in the same fashion as acceleration above (CV #3).</p>
<h4 id="configuration-variable-5-vhigh">Configuration Variable 5 V<sub>high</sub></h4>
<p>V<sub>high</sub> is used to specify the motor voltage drive levels at the maximum speed step. This value shall be specified as a fraction of available rectified supply voltage. When the contents of CV#5 equal &quot;11111111&quot;, the full available rectified voltage shall be applied. Values of &quot;00000000&quot; or &quot;00000001&quot; shall indicate that V<sub>high</sub> is not used in the calculation of the speed table.</p>
<h4 id="configuration-variable-6-vmid">Configuration Variable 6 V<sub>mid</sub></h4>
<p>V<sub>mid</sub> specifies the voltage drive level at the middle speed step. V<sub>mid</sub> is used to generate a performance curve in the decoder that translate speed step values into motor voltage drive levels and is specified as a fraction of available rectified supply voltage. Values of 00000000 or 00000001 shall indicate that V<sub>mid</sub> is not used in the calculation of the speed table.</p>
<h4 id="configuration-variable-7-manufacturer-version-number">Configuration Variable 7 Manufacturer Version Number</h4>
<p>This is reserved for the manufacturer to store information regarding the version of the decoder.</p>
<h4 id="configuration-variable-8-manufacturer-id">Configuration Variable 8 Manufacturer ID</h4>
<p>CV8 shall contain the NMRA assigned id number of the manufacturer of this decoder. The currently assigned manufacturer ID codes are listed in Appendix A of this Standard. The use of a value not assigned by the NMRA shall immediately cause the decoder to not be in conformance to this Standard. The CV shall be implemented as a read-only value, which cannot be modified.</p>
<h4 id="configuration-variable-9-total-pwm-period">Configuration Variable 9 Total PWM Period</h4>
<p>The value of CV#9 sets the nominal PWM period at the decoder output and therefore the frequency is proportional to the reciprocal of the value. The recommend formula for PWM period should be: PWM period (uS) = (131 + MANTISSA x 4)x 2 EXP ,Where MANTISSA is in bits 0-4 bits of CV#9 (low order) and EXP is bits 5-7 for CV#9. If the value programmed into CV-9 falls outside a decoder&apos;s capability, it is suggested (but not required) that the decoder &quot;adjust&quot; the value to the appropriate highest or lowest setting supported by the decoder.</p>
<h4 id="configuration-variable-10-emf-feedback-cutout">Configuration Variable 10 EMF Feedback Cutout</h4>
<p>Contains a value between 1 and 128 that indicates the speed step above which the back EMF motor control cuts off. When 14 or 28 speed steps are used the LSB&apos;s of the value are truncated appropriately.</p>
<h4 id="configuration-variable-11-packet-time-out-value">Configuration Variable 11 Packet time-out Value</h4>
<p>Contains the maximum time period that the decoder will maintain its speed without receiving a valid packet. See S 9.2.4 Section C for further information.</p>
<blockquote id="fn_1">
<sup>1</sup>. If any of these features are provided, then this CV is Mandatory<a href="#reffn_1" title="Jump back to footnote [1] in the text."> ↩</a>
</blockquote>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="S-9.2.1-extended-packet-formats.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: S-9.2.1 DCC 拡張パケット形式">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"S-9.2.2 DCC の設定値（CV）","level":"2.2.2","depth":2,"previous":{"title":"S-9.2.1 DCC 拡張パケット形式","level":"2.2.1","depth":2,"path":"S-9.2.1-extended-packet-formats.md","ref":"S-9.2.1-extended-packet-formats.md","articles":[]},"dir":"ltr"},"config":{"plugins":["add-js-css"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"add-js-css":{"css":["style.css"]},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"NMRA 標準と推奨慣例","language":"ja","gitbook":"*"},"file":{"path":"S-9.2.2-configuration-variables-for-dcc.md","mtime":"2021-06-04T06:09:05.550Z","type":"markdown"},"gitbook":{"version":"3.6.20","time":"2021-06-04T06:09:19.343Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

